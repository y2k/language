class Application {public static Object start_job(Object env){return let(()->{Object wv=get(env,"webview");Object context=get(env,"context");Object r=context.registerReceiver(null, new android.content.IntentFilter("android.intent.action.BATTERY_CHANGED"));Object level=r.getIntExtra("level", -1);return wv.evaluateJavascript(String.join("", List.of("window.update_ui(\"#text_job_status\", ",level.toString(),")")), null);});}
public static Object job_scheduled(Object env){return let(()->{Object context=get(env,"context");Object result=context.registerReceiver(null, new android.content.IntentFilter("android.intent.action.BATTERY_CHANGED"));Object level=result.getIntExtra("level", -1);return ((level>90) ? play_alarm(context) : null);});}}